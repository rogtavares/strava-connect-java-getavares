# ============================================================================
# STRAVA SPRING APPLICATION CONFIGURATION
# ============================================================================

# Server Configuration
server.port=8081
server.servlet.context-path=/api
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on-param
server.error.include-exception=false

# Application Profile
spring.application.name=strava-spring
spring.profiles.active=dev

# ============================================================================
# STRAVA API CONFIGURATION
# ============================================================================
# These values should be set via environment variables in production
# Example: export STRAVA_CLIENT_ID=your_client_id

strava.client-id=${STRAVA_CLIENT_ID:default_client_id}
strava.client-secret=${STRAVA_CLIENT_SECRET:default_client_secret}
strava.redirect-uri=${STRAVA_REDIRECT_URI:http://localhost:8080/api/authorize/callback}

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Global logging level
logging.level.root=INFO

# Application package logging
logging.level.com.getavares.strava=DEBUG

# Spring Framework logging
logging.level.org.springframework=INFO
logging.level.org.springframework.boot=INFO
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.security=DEBUG

# Third-party logging
logging.level.org.apache.http=WARN
logging.level.org.apache.httpcomponents=WARN

# Logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/strava-spring.log
logging.file.max-size=10MB
logging.file.max-history=10

# ============================================================================
# HTTP CLIENT CONFIGURATION
# ============================================================================

# Connection timeout
spring.mvc.servlet.load-on-startup=1

# RestTemplate configuration
# See RestTemplateConfig.java for advanced configuration

# ============================================================================
# JSON CONFIGURATION
# ============================================================================

spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.indent-output=true
spring.jackson.default-property-inclusion=non-null

# ============================================================================
# DEVELOPMENT SPECIFIC (Only when active profile is 'dev')
# ============================================================================

spring.devtools.restart.enabled=true
spring.h2.console.enabled=true

# ============================================================================
# PRODUCTION SPECIFIC (Only when active profile is 'prod')
# ============================================================================

# Enable gzip compression for responses larger than 1KB
server.compression.enabled=true
server.compression.min-response-size=1024

# ============================================================================
# MONITORING & ACTUATOR
# ============================================================================

# Actuator endpoints for monitoring
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized
management.info.git.mode=full

# ============================================================================
# SECURITY HEADERS
# ============================================================================

# Security headers will be handled by GlobalExceptionHandler
# and custom security configuration if needed

# ============================================================================
# RESPONSE FORMATTING
# ============================================================================

# Date format for serialization
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Sao_Paulo

# ============================================================================
# EOF
# ============================================================================
